<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Cleaning Layoff Data with SQL | Justin Lee</title>
  <link rel="stylesheet" href="../css/style.css">
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
</head>
<body>

<div class="container py-5" style="max-width: 800px;">
  <h1 class="fw-bold mb-4">ğŸ“Š Cleaning Layoff Data with SQL</h1>
  <p class="text-muted">May 2024 Â· MySQL Â· Data Cleansing Â· Feature Engineering</p>

  <hr class="my-4">

  <h4>ğŸ” Project Overview</h4>
  <p>This project focused on cleaning and preparing layoff data from various sources using SQL. The raw data contained inconsistencies, missing values, and formatting issues that needed to be addressed before any meaningful analysis could be performed. I used MySQL to clean, standardise, and enrich the dataset with new features to make it more analysis-ready.</p>

  <h4>âš™ï¸ Methodology</h4>
  <ul>
    <li><strong>Importing CSVs</strong>: Used <code>LOAD DATA INFILE</code> to import large CSVs efficiently into staging tables.</li>
    <li><strong>Data Cleaning</strong>: 
      <ul>
        <li>Removed duplicates using <code>ROW_NUMBER()</code> over partitions.</li>
        <li>Normalised inconsistent company names and date formats.</li>
        <li>Filled missing values in categorical fields using contextual replacements (e.g. using mode).</li>
      </ul>
    </li>
    <li><strong>Feature Engineering</strong>: 
      <ul>
        <li>Created new fields such as <code>layoff_size_category</code>, 
            <code>year</code>, and calculated rolling layoffs by year or sector.</li>
        <li>Used <code>CASE</code> statements for classification buckets.</li>
      </ul>
    </li>
    <li><strong>Export</strong>: Final cleaned and enriched data was exported for use in Python and Tableau analysis.</li>
  </ul>

  <h4>ğŸ’¡ Errors & Fixes</h4>
  <ul>
    <li>CSV encoding issues (â€œã€œâ€ and â€œâ€“â€ characters) â€“ resolved using <code>SET NAMES utf8mb4</code> before import.</li>
    <li>Duplicate records due to company name variations â€“ resolved using fuzzy matching + SQL string functions.</li>
    <li>Missing fields caused JOIN failures â€“ added fallback logic and filtered NULLs in subqueries.</li>
  </ul>

  <h4>ğŸ“ˆ Key Takeaways</h4>
  <ul>
    <li>SQL is a powerful tool not just for querying but for full-scale data wrangling and enrichment.</li>
    <li>Well-designed schema staging helps isolate raw vs processed data and improve maintainability.</li>
    <li>Even simple datasets need thoughtful preprocessing to be useful for downstream analysis or dashboards.</li>
  </ul>

  <h4>ğŸ”— Repository</h4>
  <p><a href="https://github.com/justinminlee/layoff_sql_cleaning" target="_blank">GitHub Repo: Layoff Data Cleansing</a></p>

  <hr class="my-4">
  <a href="../blog.html" class="btn btn-dark btn-sm rounded-pill">â† Back to Blog</a>
</div>

</body>
<footer class="text-center py-4 small bg-light">
  <p>Email: <a href="mailto:justinlee61@hotmail.com">justinlee61@hotmail.com</a> | Phone: +61-412-550-307</p>
  <p>&copy; 2025 Justin Lee</p>
</footer>
</html>